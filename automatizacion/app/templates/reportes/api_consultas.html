{% extends "layout.html" %}
{% block title %}API de Consultas{% endblock %}

{% block content %}
<div class="container py-4">
  <h2 class="mb-4 text-center">ğŸ”Œ API para Consultas ProgramÃ¡ticas</h2>
  <p>Estas APIs permiten integrar otras plataformas o scripts automatizados con este sistema. El acceso estÃ¡ protegido mediante login o autenticaciÃ³n vÃ­a token.</p>

  <!-- âœ… GET /api/backups -->
  <div class="card mb-4">
    <div class="card-body">
      <h5>ğŸ“ Consultar Backups</h5>
      <p><code>GET /api/backups</code></p>
      <p>Devuelve una lista de backups disponibles para el usuario actual.</p>
    </div>
  </div>

  <!-- âœ… GET /api/estado_red -->
  <div class="card mb-4">
    <div class="card-body">
      <h5>ğŸ“¡ Estado de Red</h5>
      <p><code>GET /api/estado_red</code></p>
      <p>Devuelve el estado actual de red (simulado o real).</p>
    </div>
  </div>

  <!-- âœ… GET /api/alertas -->
  <div class="card mb-4">
    <div class="card-body">
      <h5>ğŸš¨ Alertas Recientes</h5>
      <p><code>GET /api/alertas</code></p>
      <p>Lista las Ãºltimas alertas detectadas por el sistema.</p>
    </div>
  </div>

  <!-- ğŸ”§ CRUD Dispositivos -->
  <div class="card mb-4 border-success">
    <div class="card-body">
      <h5 class="text-success">ğŸ–§ CRUD de Dispositivos</h5>
      <p>Permite gestionar los dispositivos de red registrados en el sistema.</p>

      <ul>
        <li><code>GET /api/dispositivos</code> â€“ Lista todos los dispositivos</li>
        <li><code>GET /api/dispositivos/&lt;id&gt;</code> â€“ Consulta un dispositivo especÃ­fico</li>
        <li><code>POST /api/dispositivos</code> â€“ Crea un nuevo dispositivo</li>
        <li><code>PUT /api/dispositivos/&lt;id&gt;</code> â€“ Actualiza un dispositivo existente</li>
        <li><code>DELETE /api/dispositivos/&lt;id&gt;</code> â€“ Elimina un dispositivo</li>
      </ul>

      <hr>

      <h6>ğŸ“Œ Ejemplo: Crear dispositivo con <code>curl</code></h6>
      <pre><code class="language-bash">curl -X POST http://localhost:5000/api/dispositivos \
  -H "Content-Type: application/json" \
  -d '{
    "nombre": "SW01",
    "ip": "192.168.1.10",
    "tipo": "cisco_ios",
    "ubicacion": "Sala de servidores"
  }'</code></pre>

      <h6>ğŸ“Œ Ejemplo: Obtener dispositivos con <code>curl</code></h6>
      <pre><code class="language-bash">curl http://localhost:5000/api/dispositivos</code></pre>

      <h6>ğŸ“Œ Ejemplo: Eliminar dispositivo</h6>
      <pre><code class="language-bash">curl -X DELETE http://localhost:5000/api/dispositivos/3</code></pre>
    </div>
  </div>
</div>
{% endblock %}
